spring.application.name=backend-core-lab

# ===================================
# H2 Database Configuration
# ===================================
# H2 데이터베이스 URL 설정
# - jdbc:h2:mem:testdb : 인메모리 데이터베이스 (재시작 시 데이터 초기화)
# - testdb : 데이터베이스 이름
spring.datasource.url=jdbc:h2:mem:testdb

# H2 데이터베이스 드라이버 클래스
spring.datasource.driver-class-name=org.h2.Driver

# 데이터베이스 사용자명
spring.datasource.username=sa

# 데이터베이스 비밀번호 (빈 값)
spring.datasource.password=

# ===================================
# JPA / Hibernate Configuration
# ===================================
# DDL 자동 생성 옵션
# - create: 기존 테이블 삭제 후 재생성 (개발 단계에서 유용)
# - update: 변경사항만 반영 (운영에서는 validate 권장)
# - validate: 스키마 검증만 수행
spring.jpa.hibernate.ddl-auto=create

# SQL 쿼리를 콘솔에 출력 (학습/디버깅용)
spring.jpa.show-sql=true

# SQL 쿼리 포맷팅 (읽기 쉽게)
spring.jpa.properties.hibernate.format_sql=true

# SQL 쿼리에 주석 추가 (어떤 메서드에서 실행되었는지 표시)
spring.jpa.properties.hibernate.use_sql_comments=true

# ===================================
# H2 Console Configuration
# ===================================
# H2 웹 콘솔 활성화
# 브라우저에서 http://localhost:8080/h2-console 접속 가능
spring.h2.console.enabled=true

# H2 콘솔 접근 경로
spring.h2.console.path=/h2-console

# ===================================
# Logging Configuration
# ===================================
# Hibernate가 실행하는 SQL의 파라미터 값까지 출력
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Hibernate SQL 로그 레벨
logging.level.org.hibernate.SQL=DEBUG

# ===================================
# JWT Configuration
# ===================================
# JWT 서명에 사용할 비밀키
# 환경변수 JWT_SECRET_KEY로 설정, 없으면 기본값 사용 (개발용)
jwt.secret-key=${JWT_SECRET_KEY:MySecretKeyForJwtTokenGenerationAndValidation2024!@#$%^&*()}

# Access Token 유효시간 (밀리초 단위)
# 900000ms = 15분
jwt.access-token-expiration=900000

# Refresh Token 유효시간 (밀리초 단위)
# 604800000ms = 7일
jwt.refresh-token-expiration=604800000

# ===================================
# OAuth2 Configuration
# ===================================
# OAuth2 로그인 성공 후 프론트엔드로 리디렉션할 URL
oauth2.redirect-url=${OAUTH2_REDIRECT_URL:http://localhost:3000/oauth2/redirect}

# Google OAuth2 설정
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID:your-google-client-id}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET:your-google-client-secret}
spring.security.oauth2.client.registration.google.scope=profile,email
spring.security.oauth2.client.registration.google.redirect-uri={baseUrl}/login/oauth2/code/{registrationId}

# Kakao OAuth2 설정
spring.security.oauth2.client.registration.kakao.client-id=${KAKAO_CLIENT_ID:your-kakao-client-id}
spring.security.oauth2.client.registration.kakao.client-secret=${KAKAO_CLIENT_SECRET:your-kakao-client-secret}
spring.security.oauth2.client.registration.kakao.scope=profile_nickname,account_email
spring.security.oauth2.client.registration.kakao.client-name=Kakao
spring.security.oauth2.client.registration.kakao.authorization-grant-type=authorization_code
spring.security.oauth2.client.registration.kakao.redirect-uri={baseUrl}/login/oauth2/code/{registrationId}
spring.security.oauth2.client.registration.kakao.client-authentication-method=client_secret_post

# Kakao Provider 설정 (Spring이 기본 제공하지 않아서 수동 설정 필요)
spring.security.oauth2.client.provider.kakao.authorization-uri=https://kauth.kakao.com/oauth/authorize
spring.security.oauth2.client.provider.kakao.token-uri=https://kauth.kakao.com/oauth/token
spring.security.oauth2.client.provider.kakao.user-info-uri=https://kapi.kakao.com/v2/user/me
spring.security.oauth2.client.provider.kakao.user-name-attribute=id
